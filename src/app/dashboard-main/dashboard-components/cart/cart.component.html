<app-header></app-header>

<div class="container-fluid">
  <div class="card" style="margin: 5vh 2vw;">
    <div style="font-size: 30px;
    color: black;
    font-weight: bold;
    margin-left: 3vw;
    margin-top: 3vh;">My Cart ({{itemCount}})
    </div>

    <div class="card-body">
      <div *ngIf="itemCount > 0" style="width:100%;max-height: 100vh ; height: auto; overflow-y: auto;margin-top: 5vh">
        <table class="table">
          <thead class="thead-dark">
          <tr>
            <th scope="col"></th>
            <th scope="col">Image</th>
            <th scope="col">Meal Name</th>
            <th scope="col">Meal Type</th>
            <th scope="col">Price ($)</th>
            <th scope="col"></th>
          </tr>
          </thead>
          <tbody>
          <tr *ngFor="let item of cartDetails?.cartDTOList; let i = index">
            <th scope="row">{{i + 1}}</th>
            <td><img src="{{'http://localhost:8080/file/download/' + item?.mealId.image}}" alt=""
                     style="height: 70px;border-radius: 10px;">
            </td>
            <td>{{item?.mealId.mealName}}</td>
            <td>{{item?.mealId.mealType}}</td>
            <td>{{item?.mealId.price | number:'2.2-2'}}</td>
            <td>
              <button (click)="deleteItem(item.id)" class="btn btn-danger" type="button">
                <em class="fa fa-trash"></em></button>
            </td>
          </tr>
          </tbody>
        </table>

      </div>

      <div *ngIf="itemCount === 0" class="emptyClass">
        <img src="assets/img/public/emptyCart.png" alt="" style="width: 300px;border-radius: 10px;">
      </div>


    </div>
  </div>

  <div class="card" *ngIf="itemCount > 0" style="margin-left: 2vw;margin-right: 2vw;margin-bottom: 5vh">
    <div class="card-body" style="text-align: right;margin-right: 5vw;color: black;font-weight: bold;font-size: 20px">
      Total Price : $ {{cartDetails?.totalPrice | number:'2.2-2'}}
    </div>

    <div class="col-12">
      <button class="button primary-btn ml-2" (click)="checkout()" style="float: right;margin-right: 5vw">
        <i class="fa fa-credit-card" aria-hidden="true"></i>
        Check Out
      </button>
    </div>
  </div>
</div>


<app-chat-config></app-chat-config>
<app-chat-widget></app-chat-widget>

<app-footer></app-footer>
